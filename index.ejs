<html>

    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');


            body {
                margin-top: 2%;
                margin-bottom: 2%;
                margin-left: 5%;
                margin-right: 5%;
                font-family: 'Roboto', sans-serif;
            }

            div {
                margin: 0;
                padding: 0;
                gap: 0;

            }

            #container {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }

            .child {
                flex-basis: 23%;
                box-sizing: border-box;
                padding-left: 2px;
                margin: 1%;
                border-radius: 5%;
                background-color: antiquewhite;
                box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.5);
                transition: all 0.2s ease-in-out
            }

            .child:hover {
                border: 3px solid rgba(0, 0, 0, 0.352);
            }

            .a {
                display: flex;
                white-space: nowrap;

            }

            .b {
                box-sizing: border-box;
                margin: 0;
                flex-basis: 75%;
              


            }

            .c {
                box-sizing: border-box;
                margin: 0;
                flex-basis: 25%;
                padding: 0;

            }

            .corner-button {
                margin: 0;
                padding: 2px;
                border-bottom: 1px solid black;
                border-left: 1px solid black;
                border-radius: 0 0 0 5px;
            }

            .x {
                display: flex;
                white-space: nowrap;


            }

            .y {
                flex-basis: 80%;
                box-sizing: border-box;


            }

            .z {
                flex-basis: 20%;
                box-sizing: border-box;
            }



            input {
                margin: 0;
                gap: 0;
                padding: 0;
                border: none;
                border-radius: 10%;
                background-color: transparent;
            }

         

            form {
                margin: 0;
                padding: 0;
                gap: 0;
                padding: 0;
            }


            button {
                border: none;
                background-color: transparent;
                transition: all 0.2s ease-in-out;
            }

            button:hover {
                transform: scale(1.1);
            }

            span {
                font-size: smaller;
            }
        </style>

    </head>

    <body>

        <div id="head">
            <h1>To Do App <br> using <i>MongoDB, Node.js, Express.js</i></h1>
            <h2></h2>
            <p>¬©Ô∏è Manuj Web Foundry</p>

        </div>
        <hr>

        <div id="addList">
            <form action="/" method="post">
                <input type="text" name="todoTitle" placeholder="Enter Title of List Here" required>
                <br>

                <div id="addTask">
                    <input type="text" name="todoTask0" placeholder="Enter Task / List Item Here" id="todoTask0"
                        required><br>
                </div>

                <button type="button" id="addMoreTasksButton">‚ûï Add More Tasks</button>
                <br><br>
                <button type="submit">üíæ Save This List</button>
            </form>
        </div>
        <hr>

        <div id="container">

            <% todos.reverse().forEach(todo => { %>
            <div class="child">

                <div class="a">
                    <div class="b">
                        <form action="/deleteList/<%= todo.todoTitle %>" method="post">
                            <h2> <%= todo.todoTitle %></h2>
                    </div>
                    <div class="c">
                        <button class="corner-button"><i class="bi bi-trash3-fill"></i> <span>Delete
                                List</span></button>
                    </div>
                    </form>
                </div>
                <% todo.todoTasks.forEach(todoTask => { %>

                <div class="x">
                    <div class="y">

                        <form action="/update/<%= todo.todoTitle %>/<%= todoTask %>" method="post">
                            <input type="checkbox">

                            <input type="text" value="<%= todoTask  %>" name="updatedToDo">

                            <button type="submit" style="visibility: hidden;" title="update this task"><i class="bi bi-save2-fill"></i></button>

                        </form>
                    </div>
                    <div class="z">
                        <form action="/delete/<%= todo.todoTitle %>/<%= todoTask %>" method="post"><button type="submit"
                                title="delete this task">‚ùå</button></form>
                    </div>
                </div>
                <% }) %>
            </div>
            <% }) %>


        </div>




        <script src="script.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"></script>


    </body>

</html>